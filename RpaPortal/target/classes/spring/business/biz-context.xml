<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:beans="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.3.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.3.xsd">

	<!-- 컴포넌트 스캔 설정 (비즈니스 로직 및 유틸) --> 
	<!-- 중요 : 순서 로직 먼저 빈등록 @Component 되어야 @Autowired 가능 -->
	<!-- @Component 어노테이션 사용을 위한 component-scan -->
	<context:component-scan base-package="com.kcc.biz.*" />
	<context:component-scan base-package="com.kcc.util.*" />
	
	<!-- Task 어노테이션 변환 설정 - 스케쥴 사용시 -->
	<task:annotation-driven/>
	
	<!-- 프로퍼티 암호화 방식 설정 -->
	<bean id="stringPBEConfig" class="org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig">
		<property name="algorithm" value="PBEWithMD5AndDES" />
		<property name="password" value="kccenc" />
	</bean>
	
	<!-- 프로퍼티 암호화 객체 설정 -->
	<bean id="stringEncryptor" class="org.jasypt.encryption.pbe.StandardPBEStringEncryptor"> 
		<property name="config" ref="stringPBEConfig" /> 
	</bean>
	
	<!-- 프로퍼티 정의 파일 등록 -->
	<bean id="placeholderConfigurer" class="org.jasypt.spring31.properties.EncryptablePropertyPlaceholderConfigurer">
		<constructor-arg ref="stringEncryptor" />
		<property name="locations" value="classpath:spring/properties/*.properties" />
	</bean>
	
	<!-- 코드정보 xml 파일 등록 -->
	<!-- 속성 값 정의 사용 (tx-context.xml AOP 설정) -->
	<!-- 문법 : #{codeProperties['pointcutRef']} -->
 	<util:properties id="codeProperties" location="classpath:spring/codefiles/code-properties.xml" />
 	
	<!-- 코드정보 자바 Class 빈 등록 -->
	<!-- 속성 값 정의 / 암호화 데이터 사용 가능 -->
	<!-- 속성 값 정의 사용 (tx-context.xml AOP 설정) -->
	<!-- 문법 : #{codeConfig['AdviceRef']} -->
	<bean id="codeConfig" class="com.kcc.code.CodeConfig" />

</beans>